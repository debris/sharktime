[gd_scene load_steps=12 format=3 uid="uid://cobpt0fiqb05f"]

[ext_resource type="Script" path="res://entities/shark.gd" id="1_qitrd"]
[ext_resource type="Script" path="res://entities/creature.gd" id="1_y6mss"]
[ext_resource type="Script" path="res://entities/segment.gd" id="2_d5x32"]
[ext_resource type="Script" path="res://entities/catmull_rom_shape.gd" id="4_h7dar"]
[ext_resource type="Script" path="res://entities/eye.gd" id="5_0hu1p"]
[ext_resource type="Script" path="res://entities/creature_head.gd" id="6_ijg78"]

[sub_resource type="Animation" id="Animation_hlpmp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Creature:speed")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [400.0]
}

[sub_resource type="Animation" id="Animation_nyaug"]
resource_name = "change_speed"
length = 5.0
loop_mode = 1
step = 0.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Creature:speed")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [400.0, 50.0]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_gkqvp"]
_data = {
"RESET": SubResource("Animation_hlpmp"),
"change_speed": SubResource("Animation_nyaug")
}

[sub_resource type="CircleShape2D" id="CircleShape2D_xd76a"]
custom_solver_bias = 1.0
radius = 25.0

[sub_resource type="CircleShape2D" id="CircleShape2D_af2c7"]
radius = 1000.0

[node name="Shark" type="Node2D"]
script = ExtResource("1_qitrd")

[node name="Creature" type="Node2D" parent="." node_paths=PackedStringArray("head_body")]
script = ExtResource("1_y6mss")
head_body = NodePath("../CharacterBody2D")
speed = 400.0
speed_multiplier = 0.2

[node name="Segment" type="Node2D" parent="Creature"]
position = Vector2(-142.286, -155.891)
rotation = 18528.3
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 25.0

[node name="RemoteTransform2D" type="RemoteTransform2D" parent="Creature/Segment"]
remote_path = NodePath("../../../EyeSocket")

[node name="RemoteTransform2D2" type="RemoteTransform2D" parent="Creature/Segment"]
remote_path = NodePath("../../../AnchorScanner")

[node name="Segment2" type="Node2D" parent="Creature"]
position = Vector2(-154.584, -140.119)
rotation = -0.908505
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 27.0

[node name="Segment3" type="Node2D" parent="Creature"]
position = Vector2(-165.443, -123.324)
rotation = -0.996875
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 24.0

[node name="LeftFrontFin" type="Node2D" parent="Creature/Segment3"]
position = Vector2(0, -20)
scale = Vector2(1, -1)
script = ExtResource("4_h7dar")
points = PackedVector2Array(0, 5, 30, 0, 0, 30)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0509804, 0.658824, 0.854902, 1)

[node name="RightFrontFin" type="Node2D" parent="Creature/Segment3"]
position = Vector2(0, 20)
script = ExtResource("4_h7dar")
points = PackedVector2Array(0, 5, 30, 0, 0, 30)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0509804, 0.658824, 0.854902, 1)

[node name="Segment4" type="Node2D" parent="Creature"]
position = Vector2(-174.77, -105.632)
rotation = -1.08561
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 20.0

[node name="Segment7" type="Node2D" parent="Creature"]
position = Vector2(-182.486, -87.1801)
rotation = -1.17473
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 15.0

[node name="Segment5" type="Node2D" parent="Creature"]
position = Vector2(-188.522, -68.1127)
rotation = -1.26422
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 10.0

[node name="Segment6" type="Node2D" parent="Creature"]
position = Vector2(-192.822, -48.5804)
rotation = -1.3541
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 5.0

[node name="LeftFrontFin" type="Node2D" parent="Creature/Segment6"]
scale = Vector2(1, -1)
script = ExtResource("4_h7dar")
points = PackedVector2Array(0, 5, 30, 0, 0, 30)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0509804, 0.658824, 0.854902, 1)

[node name="RightFrontFin" type="Node2D" parent="Creature/Segment6"]
script = ExtResource("4_h7dar")
points = PackedVector2Array(0, 5, 30, 0, 0, 30)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0509804, 0.658824, 0.854902, 1)

[node name="Segment8" type="Node2D" parent="Creature"]
position = Vector2(-195.344, -28.74)
rotation = -1.44436
script = ExtResource("2_d5x32")
distance_constraint = 20.0
body_size = 4.0

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
"": SubResource("AnimationLibrary_gkqvp")
}

[node name="CatmullRomShape" type="Node2D" parent="."]
script = ExtResource("4_h7dar")
points = PackedVector2Array(-191.536, -26.9749, -188.212, -46.2644, -179.365, -63.9059, -169.12, -80.2647, -157.638, -95.2434, -145.93, -109.301, -134.012, -122.594, -124.8, -137.986, -118.216, -155.945, -126.256, -173.302, -144.213, -179.895, -161.573, -171.863, -176.79, -155.55, -186.391, -135.125, -193.13, -113.691, -196.864, -91.6762, -198.467, -69.83, -197.991, -48.3572, -199.478, -27.9372)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0526073, 0.565235, 0.85546, 1)

[node name="TopFin" type="Node2D" parent="."]
script = ExtResource("4_h7dar")
points = PackedVector2Array(-155.401, -139.072, -166.161, -122.213, -175.384, -104.467, -182.992, -85.9704)
border_color = Color(1, 1, 1, 1)
fill_color = Color(0.0509804, 0.658824, 0.854902, 1)

[node name="EyeSocket" type="Node2D" parent="."]
position = Vector2(-142.286, -155.891)
rotation = -0.820502

[node name="LeftEye" type="Node2D" parent="EyeSocket"]
position = Vector2(0, -20)
script = ExtResource("5_0hu1p")

[node name="RightEye" type="Node2D" parent="EyeSocket"]
position = Vector2(0, 20)
script = ExtResource("5_0hu1p")

[node name="CharacterBody2D" type="CharacterBody2D" parent="." node_paths=PackedStringArray("creature")]
position = Vector2(-142.286, -155.891)
rotation = -1.53531
scale = Vector2(0.999858, 0.999858)
motion_mode = 1
wall_min_slide_angle = 0.0
script = ExtResource("6_ijg78")
creature = NodePath("../Creature")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
rotation = 1.5708
shape = SubResource("CircleShape2D_xd76a")

[node name="AnchorScanner" type="Area2D" parent="."]
position = Vector2(-142.286, -155.891)
rotation = -0.820502
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="AnchorScanner"]
shape = SubResource("CircleShape2D_af2c7")

[connection signal="area_entered" from="AnchorScanner" to="." method="_on_anchor_scanner_area_entered"]
[connection signal="area_exited" from="AnchorScanner" to="." method="_on_anchor_scanner_area_exited"]
